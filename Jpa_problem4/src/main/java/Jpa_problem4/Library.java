/*
 * This Java source file was generated by the Gradle 'init' task.
 */
package Jpa_problem4;

import java.util.ArrayList;
import java.util.List;

import javax.persistence.EntityManager;
import javax.persistence.EntityManagerFactory;
import javax.persistence.Persistence;

import com.Teacher;
import com.Student;
public class Library {
    public boolean someLibraryMethod() {
        return true;
    }
    public static void main(String[] args) {
		EntityManagerFactory emf = Persistence.createEntityManagerFactory("ItemPU");
		EntityManager entitymanager = emf.createEntityManager();
		Teacher teach = new Teacher();
		teach.setTeacherId(1);
		teach.setTeacherName("jenny");
		teach.setSubject("Physics");
		
		List<Student> mylist = new ArrayList<Student>();
		mylist.add(new Student("john", "8th semester", teach));
		mylist.add(new Student("peter", "6th semester", teach));
		mylist.add(new Student("joe", "4th semester", teach));
		mylist.add(new Student("jane", "2nd semester", teach));
		teach.setList(mylist);
		
		entitymanager.getTransaction().begin();
		entitymanager.persist(teach);
		entitymanager.flush();
		entitymanager.getTransaction().commit();
	}
}
